[{"path":"http://alarm-redist.org/geocoder/DESIGN.html","id":null,"dir":"","previous_headings":"","what":"Parsing and Geocoding Strategy","title":"Parsing and Geocoding Strategy","text":"modal user-facing workflow aiming :","code":"d_addr |> # user's data, contains addresses     gc_address(address, zip=zip_code, state=\"PA\") |>     gc_prep_street_db() |>      gc_code_pt() # or gc_code_block()"},{"path":"http://alarm-redist.org/geocoder/DESIGN.html","id":"package-data","dir":"","previous_headings":"","what":"Package data","title":"Parsing and Geocoding Strategy","text":"Internal (see sysdata.R) - states: FIPS lookup (full name, postal code, AP abbreviation) - counties: FIPS lookup - county_zip_code: ZIP->county lookup built HUD crosswalk. TODO get reverse crosswalk data build direction - street_dirs: standardized street direction lookup - street_types: standardized street type lookup Regular expressions programatically build regexes address parsing. Currently done zzz.R load-time, TODO: make trie-based regexes matching many options, write code automatically R/ load-time computation. User-facing (see nc_addr.R) - nc_addr: Random 1,000 addresses Dare County, NC voter file","code":""},{"path":"http://alarm-redist.org/geocoder/DESIGN.html","id":"address-parsing-gc_address","dir":"","previous_headings":"","what":"Address Parsing: gc_address()","title":"Parsing and Geocoding Strategy","text":"See address.R; test-address.R Stage input: data frame column(s) containing unparsed addresses Stage output: tibble containing addresses standardized parsed columns Check ZIP codes, first zip argument regex generic address column Check state names, first state argument regex generic address column Check city names, first city argument dictionary-based regex end generic address column Parse street name, type, prefixes suffixes, house unit numbers remainder address column Standardize county name code, provided county argument steps, parse component generic address column, remove component next step. Thus “1 OXFORD ST CAMBRIDGE MA 02138” becomes, order: 1. “1 OXFORD ST CAMBRIDGE MA 02138” 1. “1 OXFORD ST CAMBRIDGE MA” 1. “1 OXFORD ST CAMBRIDGE” 1. “1 OXFORD ST”","code":""},{"path":"http://alarm-redist.org/geocoder/DESIGN.html","id":"data-download-and-preparation-gc_prep_street_db","dir":"","previous_headings":"","what":"Data Download and Preparation: gc_prep_street_db()","title":"Parsing and Geocoding Strategy","text":"See prep.R; test-prep.R Stage input: tibble containing addresses standardized parsed columns Stage output: input (invisibly). side effect, downloads organizes Census street address data Counties address tibble Counties crosswalked ZIP codes TODO: counties ZIPs, get counties state. Consider anyway xwalk may complete Download Census EDGES, FACES, ADDRFEAT, FEATNAMES files Subset appropriate columns parse appropriate types Save parquet (rds one geo column EDGES)","code":""},{"path":"http://alarm-redist.org/geocoder/DESIGN.html","id":"joining-addresses-to-streets-and-address-ranges-gc_code_feat-internal","dir":"","previous_headings":"","what":"Joining Addresses to Streets and Address Ranges: gc_code_feat() [internal]","title":"Parsing and Geocoding Strategy","text":"See geocode.R","code":""},{"path":"http://alarm-redist.org/geocoder/DESIGN.html","id":"geocoding-points-gc_prep_street_db","dir":"","previous_headings":"","what":"Geocoding Points: gc_prep_street_db()","title":"Parsing and Geocoding Strategy","text":"See geocode.R","code":""},{"path":"http://alarm-redist.org/geocoder/DESIGN.html","id":"geocoding-census-geographies-gc_prep_street_db","dir":"","previous_headings":"","what":"Geocoding Census Geographies: gc_prep_street_db()","title":"Parsing and Geocoding Strategy","text":"See geocode.R","code":""},{"path":"http://alarm-redist.org/geocoder/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 geocoder authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://alarm-redist.org/geocoder/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Christopher T. Kenny. Author, maintainer. Cory McCartan. Author.","code":""},{"path":"http://alarm-redist.org/geocoder/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kenny C, McCartan C (2023). geocoder: Efficiently Geocode Addresses. https://github.com/alarm-redist/geocoder, http://alarm-redist.org/geocoder/.","code":"@Manual{,   title = {geocoder: Efficiently Geocode Addresses},   author = {Christopher T. Kenny and Cory McCartan},   year = {2023},   note = {https://github.com/alarm-redist/geocoder, http://alarm-redist.org/geocoder/}, }"},{"path":"http://alarm-redist.org/geocoder/index.html","id":"geocoder-efficiently-geocode-addresses-","dir":"","previous_headings":"","what":"Efficiently Geocode Addresses","title":"Efficiently Geocode Addresses","text":"project development. work. happens appear work, make guarantees accuracy. goal geocoder …","code":""},{"path":"http://alarm-redist.org/geocoder/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Efficiently Geocode Addresses","text":"can install development version geocoder like :","code":"remotes::install_github(\"alarm-redist/geocoder\")"},{"path":"http://alarm-redist.org/geocoder/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Efficiently Geocode Addresses","text":"","code":"library(geocoder) ## basic example code"},{"path":"http://alarm-redist.org/geocoder/index.html","id":"cache","dir":"","previous_headings":"","what":"Cache","title":"Efficiently Geocode Addresses","text":"Downloads go options(geocoder.cache_dir) set. , options(geocoder.use_cache = TRUE), downloads cached sessions rappdirs::user_cache_dir(\"geocoder\"). options(geocoder.use_cache = FALSE) (default), cache temporary directory persist sessions. can check size cache clear gc_cache_size() gc_cache_clear().","code":""},{"path":"http://alarm-redist.org/geocoder/reference/gc_address.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse Addresses — gc_address","title":"Parse Addresses — gc_address","text":"Parse Addresses","code":""},{"path":"http://alarm-redist.org/geocoder/reference/gc_address.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse Addresses — gc_address","text":"","code":"gc_address(data, address, city = NULL, zip = NULL, state = NULL, county = NULL)"},{"path":"http://alarm-redist.org/geocoder/reference/gc_address.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse Addresses — gc_address","text":"data data frame address column containing address. Can one-line address just street address component (city, state, etc. provided). Tidy-evaluated within data. city column containing city names. Tidy-evaluated within data. zip column containing ZIP codes. Tidy-evaluated within data. state column containing states. Tidy-evaluated within data. county column containing counties. Matched internal list passed output. Tidy-evaluated within data.","code":""},{"path":"http://alarm-redist.org/geocoder/reference/gc_address.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse Addresses — gc_address","text":"data frame containing columns parsed address. match Census format street addresses.","code":""},{"path":"http://alarm-redist.org/geocoder/reference/gc_address.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Parse Addresses — gc_address","text":"","code":"gc_address(NULL, \"125 5th St S St. Petersburg FL 33701\") #> Warning: cannot open compressed file '', probable reason 'No such file or directory' #> Error in gzfile(file, \"rb\"): cannot open the connection gc_address(NULL, \"1225 St Charles St St Louis MO\") #> Warning: cannot open compressed file '', probable reason 'No such file or directory' #> Error in gzfile(file, \"rb\"): cannot open the connection  data(nc_addr) gc_address(nc_addr, address = address, city = city, zip = zip, county = county, state = \"NC\") #> # A tibble: 1,000 × 11 #>    state_c…¹ count…² zip_c…³ city    num num_s…⁴ stree…⁵ stree…⁶ stree…⁷ stree…⁸ #>    <chr>     <chr>   <chr>   <chr> <int> <chr>   <chr>   <chr>   <chr>   <chr>   #>  1 37        055     27948   KILL…   505 NA      NA      BURNS   DR      NA      #>  2 37        055     27954   MANT…   144 NA      NA      PAYNE   RD      NA      #>  3 37        055     27948   KILL…   116 NA      NA      MYBET   CT      NA      #>  4 37        055     27949   KITT…  4516 NA      NA      MARITY… LN      NA      #>  5 37        055     27959   NAGS…  2236 NA      S       CROATAN HWY     NA      #>  6 37        055     NA      NA       NA NA      NA      NA      NA      NA      #>  7 37        055     27954   MANT…   129 NA      NA      FIRST … CT      NA      #>  8 37        055     NA      NA       NA NA      NA      NA      NA      NA      #>  9 37        055     27949   KITT…  3634 NA      N       VA DARE TRL     NA      #> 10 37        055     27948   KILL…  1911 NA      NA      HARBOU… DR      NA      #> # … with 990 more rows, 1 more variable: unit <chr>, and abbreviated variable #> #   names ¹​state_code, ²​county_code, ³​zip_code, ⁴​num_suff, ⁵​street_dir_pre, #> #   ⁶​street_name, ⁷​street_type, ⁸​street_dir_suff"},{"path":"http://alarm-redist.org/geocoder/reference/gc_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Work with the the geocode cache — gc_cache_size","title":"Work with the the geocode cache — gc_cache_size","text":"Functions inspect clear cache. cache enabled, uses temporary directory.","code":""},{"path":"http://alarm-redist.org/geocoder/reference/gc_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Work with the the geocode cache — gc_cache_size","text":"","code":"gc_cache_size()  gc_cache_clear(force = FALSE)  gc_cache_path()"},{"path":"http://alarm-redist.org/geocoder/reference/gc_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Work with the the geocode cache — gc_cache_size","text":"force FALSE default. Asks user confirm interactive. clear cache force FALSE interactive.","code":""},{"path":"http://alarm-redist.org/geocoder/reference/gc_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Work with the the geocode cache — gc_cache_size","text":"gc_cache_size(), size bytes, invisibly gc_cache_clear(), path cache, invisibly. gc_cache_path(), path cache","code":""},{"path":"http://alarm-redist.org/geocoder/reference/gc_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Work with the the geocode cache — gc_cache_size","text":"","code":"gc_cache_size() #> 619.8 Kb  gc_cache_clear()  gc_cache_path() #> [1] \"/tmp/RtmpsJiFeA\""},{"path":"http://alarm-redist.org/geocoder/reference/gc_code.html","id":null,"dir":"Reference","previous_headings":"","what":"Geocode Addresses — gc_code","title":"Geocode Addresses — gc_code","text":"functions efficiently geocode addresses return either matched Census geographies (gc_code_block()) actual shapefile information (gc_code_pt()) points address.","code":""},{"path":"http://alarm-redist.org/geocoder/reference/gc_code.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Geocode Addresses — gc_code","text":"","code":"gc_code_block(addresses, street_db = gc_download_path())  gc_code_pt(addresses, street_db = gc_download_path())"},{"path":"http://alarm-redist.org/geocoder/reference/gc_code.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Geocode Addresses — gc_code","text":"addresses data frame parsed addresses, gc_address(). street_db Path street database prepared gc_prep_street_db().","code":""},{"path":"http://alarm-redist.org/geocoder/reference/gc_code.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Geocode Addresses — gc_code","text":"data frame row input address. gc_code_block(), columns report matched Census geographies different levels. gc_code_block(), one column, geometry, POINT geometries address.","code":""},{"path":"http://alarm-redist.org/geocoder/reference/gc_code.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Geocode Addresses — gc_code","text":"","code":"data(nc_addr) nc_addr |>     gc_address(address, city, zip, state = \"NC\", county = county) |>     gc_code_block() #> NULL"},{"path":"http://alarm-redist.org/geocoder/reference/gc_prep_street_db.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare Streets Database — gc_prep_street_db","title":"Prepare Streets Database — gc_prep_street_db","text":"Download format address ranges Census TIGER/Line API, store Arrow format. One county zip must provided.","code":""},{"path":"http://alarm-redist.org/geocoder/reference/gc_prep_street_db.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare Streets Database — gc_prep_street_db","text":"","code":"gc_prep_street_db(   data,   path = gc_cache_path(),   year = 2022,   save_edge = TRUE,   save_face = TRUE,   save_cens = FALSE,   refresh = FALSE )"},{"path":"http://alarm-redist.org/geocoder/reference/gc_prep_street_db.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare Streets Database — gc_prep_street_db","text":"data data frame containing columns state_code either county_code zip_code, output  gc_address(). path folder database stored. See gc_cache_path() README information. year year download data . save_edge Whether save road edge shapefile information. Needed use gc_code_pt(). save_face Whether save shapefile face information. Needed use gc_code_block(). save_cens Whether save additional Census geographies (school districts, NECTAs, etc.) matching gc_code_block(). applies save_face=TRUE. refresh TRUE, force re-downloading Census data.","code":""},{"path":"http://alarm-redist.org/geocoder/reference/gc_prep_street_db.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare Streets Database — gc_prep_street_db","text":"data, invisibly.","code":""},{"path":"http://alarm-redist.org/geocoder/reference/gc_prep_street_db.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare Streets Database — gc_prep_street_db","text":"","code":"# \\donttest{ # may take longer than 5 seconds gc_prep_street_db(data.frame(state_code = \"37\", county_code = \"055\")) # }"},{"path":"http://alarm-redist.org/geocoder/reference/geocoder-package.html","id":null,"dir":"Reference","previous_headings":"","what":"geocoder: Efficiently Geocode Addresses — geocoder-package","title":"geocoder: Efficiently Geocode Addresses — geocoder-package","text":"package (one paragraph).","code":""},{"path":[]},{"path":"http://alarm-redist.org/geocoder/reference/geocoder-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"geocoder: Efficiently Geocode Addresses — geocoder-package","text":"Maintainer: Christopher T. Kenny christopherkenny@fas.harvard.edu Authors: Cory McCartan cmccartan@g.harvard.edu","code":""},{"path":"http://alarm-redist.org/geocoder/reference/nc_addr.html","id":null,"dir":"Reference","previous_headings":"","what":"North Carolina Address Data — nc_addr","title":"North Carolina Address Data — nc_addr","text":"dataset containing 1,000 fake address records. Created randomizing subset public Dare County, North Carolina voter file. Driver's license records connection listed addresses.","code":""},{"path":"http://alarm-redist.org/geocoder/reference/nc_addr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"North Carolina Address Data — nc_addr","text":"","code":"nc_addr"},{"path":"http://alarm-redist.org/geocoder/reference/nc_addr.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"North Carolina Address Data — nc_addr","text":"data frame 1,000 rows 5 records: address Street address. May NA city City street address. May NA zip 5-digit ZIP code. May NA county County name drivers_lic TRUE voter driver's license, FALSE .","code":""},{"path":"http://alarm-redist.org/geocoder/reference/nc_addr.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"North Carolina Address Data — nc_addr","text":"https://www.ncsbe.gov/results-data/voter-registration-data","code":""},{"path":"http://alarm-redist.org/geocoder/news/index.html","id":"geocoder-0009000","dir":"Changelog","previous_headings":"","what":"geocoder 0.0.0.9000","title":"geocoder 0.0.0.9000","text":"Added NEWS.md file track changes package.","code":""}]
